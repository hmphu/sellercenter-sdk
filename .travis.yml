language: php

php:
  - 5.4
  - 5.5
  - 5.6
  - 7.0
  - hhvm

matrix:
  allow_failures:
    - php: hhvm
    - php: 7.0

before_script:
  - composer self-update
  - composer install --prefer-dist

script:
  - vendor/bin/phpunit --coverage-clover ./build/logs/clover.xml
  - vendor/bin/phpcs --standard=PSR2 ./src/

after_script:
  - php vendor/bin/coveralls -v

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/d5012cfc8f0d8703197b
    on_success: change
    on_failure: always
    on_start: never
  hipchat:
    rooms:
      secure: bUyRDatctTHwRPvfrH9Pho5t74R3HAjjczrI0wkukQkriaSOlRKo2hFgheiS7Y0t+Ox0YgJcBPNgpwXzPC75OTg9Vc97UlhWq4JeKXOTp0VTOOwHvJLSARYfC0Wtv0seawLDKpYqVfVc+MvhLNUeNUVtMIAKUl3tRGhNOO5tkh0ntLv9ylcoNVoQLKm0zZAed4tjisv5KVUDG8zUYYVWPbzfEIfi0PCofoYAo4oy94Nuzu8omquOWi4p+vQsaZxzqtJ1f/ac7w8l/ONM8BNflxMAw0tnmBho5dvHiN4pgc5Oilk1omZ7gbvuMI/0kT0Xk0cC1TDJn5qq60BVx+0lD5Fm+dSuFohThnS+DfPTVoegN+ZtRow/cRCcRP1HMBWUSkSLQWTIvJsL+djSix48up57egeH86Ab0lXezr6ti+E9PSzQ2cvVYdLGv4c+2wIFjzRKwgBRq2bSKEjGhjUKDAuJQll9Nh1Eeiou5OOYbmsbrP2G2AJZHD7J4gV/hNHIlqRLodN7/hjlD3eL8yeGmLGDS+LdOywCIztIn9E641imHRZyb2MB5BSBEekHYmuBo5t3Za8yoKsChK/2ofH72uwLkWHmhdcYzEgaTnUJzpvHrD7GmubTdFf5PrBSnkRaJg3IpR4crU4BFyCwbRgM0VdjdoNc5PtEtR3wJNr3I3w=
